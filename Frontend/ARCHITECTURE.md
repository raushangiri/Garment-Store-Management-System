# ğŸ—ï¸ FashionHub System Architecture

Visual guide to understand the complete system architecture.

---

## ğŸŒ System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FashionHub System                        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Frontend   â”‚  HTTP   â”‚   Backend    â”‚ TCP  â”‚  MongoDB   â”‚ â”‚
â”‚  â”‚  React + TS  â”‚ â—„â”€â”€â”€â”€â”€â–º â”‚  Express.js  â”‚ â—„â”€â”€â–º â”‚  Database  â”‚ â”‚
â”‚  â”‚  Tailwind    â”‚   API   â”‚   Node.js    â”‚      â”‚   Cloud    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. User Action (Login, Add Product, Create Sale)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       React Frontend                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Context    â”‚  â”‚  Components  â”‚  â”‚  API Service â”‚      â”‚
â”‚  â”‚   Providers  â”‚  â”‚   (UI/UX)    â”‚  â”‚   (Axios)    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                         2. API Request (POST /api/products)
                         Headers: { Authorization: Bearer JWT }
                                              â”‚
                                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Express.js Backend                         â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚  Middleware  â”‚                                            â”‚
â”‚  â”‚  - CORS      â”‚  3. Authentication & Authorization         â”‚
â”‚  â”‚  - Auth      â”‚     Verify JWT Token                       â”‚
â”‚  â”‚  - Rate Limitâ”‚     Check User Role                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚         â”‚                                                     â”‚
â”‚         â†“                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚   Routes     â”‚  4. Route to Controller                    â”‚
â”‚  â”‚  /products   â”‚     Match URL to handler                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚         â”‚                                                     â”‚
â”‚         â†“                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ Controllers  â”‚  5. Business Logic                         â”‚
â”‚  â”‚  - Validate  â”‚     Process request                        â”‚
â”‚  â”‚  - Transform â”‚     Apply business rules                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚         â”‚                                                     â”‚
â”‚         â†“                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚   Models     â”‚  6. Database Operations                    â”‚
â”‚  â”‚  - User      â”‚     CRUD operations                        â”‚
â”‚  â”‚  - Product   â”‚     Mongoose queries                       â”‚
â”‚  â”‚  - Sale      â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ 7. MongoDB Query
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MongoDB Database                         â”‚
â”‚                                                               â”‚
â”‚  Collections:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  users  â”‚ â”‚products â”‚ â”‚  sales  â”‚ â”‚suppliersâ”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ drafts  â”‚ â”‚   POs   â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                               â”‚
â”‚  8. Return Data                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ 9. Response
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Frontend   â”‚
                    â”‚  Update UI   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚                                              â”‚ MongoDB  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                                                          â”‚
     â”‚ 1. Enter Email/Password                                 â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
     â”‚                                        â”‚                â”‚
     â”‚                                   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”‚
     â”‚                                   â”‚  Login   â”‚          â”‚
     â”‚                                   â”‚Component â”‚          â”‚
     â”‚                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚
     â”‚                                        â”‚                â”‚
     â”‚                        2. POST /api/auth/login          â”‚
     â”‚                           {email, password}             â”‚
     â”‚                                        â”‚                â”‚
     â”‚                                   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”‚
     â”‚                                   â”‚  Backend  â”‚         â”‚
     â”‚                                   â”‚ Auth Ctrl â”‚         â”‚
     â”‚                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
     â”‚                                        â”‚                â”‚
     â”‚                          3. Query User by Email         â”‚
     â”‚                                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚                                        â”‚                â”‚
     â”‚                          4. Return User + Hashed Pwd    â”‚
     â”‚                                        â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                        â”‚                â”‚
     â”‚                          5. Compare Passwords           â”‚
     â”‚                             (bcrypt.compare)            â”‚
     â”‚                                        â”‚                â”‚
     â”‚                          6. Generate JWT Token          â”‚
     â”‚                             (jwt.sign)                  â”‚
     â”‚                                        â”‚                â”‚
     â”‚                     7. Response: {token, user}          â”‚
     â”‚                                        â”‚                â”‚
     â”‚                                   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”‚
     â”‚                                   â”‚ Frontend â”‚          â”‚
     â”‚                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚
     â”‚                                        â”‚                â”‚
     â”‚                  8. Store Token in localStorage         â”‚
     â”‚                     localStorage.setItem('token')       â”‚
     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
     â”‚                                                          â”‚
     â”‚ 9. All Future Requests Include Token                    â”‚
     â”‚    Headers: { Authorization: Bearer <token> }           â”‚
     â”‚                                                          â”‚
```

---

## ğŸ›’ Sale Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         POS Component                            â”‚
â”‚                                                                  â”‚
â”‚  User adds items to cart                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ T-Shirt â”‚  â”‚  Jeans  â”‚  â”‚  Shoes  â”‚                         â”‚
â”‚  â”‚ Qty: 2  â”‚  â”‚ Qty: 1  â”‚  â”‚ Qty: 1  â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                  â”‚
â”‚  Calculate: Subtotal + Tax - Discount = Total                   â”‚
â”‚                                                                  â”‚
â”‚  User clicks "Generate Invoice"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ POST /api/sales
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Sale Controller                               â”‚
â”‚                                                                  â”‚
â”‚  1. Validate Stock for Each Item                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚     â”‚ For each item in cart:             â”‚                      â”‚
â”‚     â”‚   - Check if product exists        â”‚                      â”‚
â”‚     â”‚   - Check if stock >= quantity     â”‚                      â”‚
â”‚     â”‚   - If not: Return 400 Error       â”‚                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚  2. Create Sale Document                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚     â”‚ - Auto-generate Invoice Number     â”‚                      â”‚
â”‚     â”‚   Format: INV-YYMM-00001           â”‚                      â”‚
â”‚     â”‚ - Save customer details            â”‚                      â”‚
â”‚     â”‚ - Record payment method            â”‚                      â”‚
â”‚     â”‚ - Link to sales person             â”‚                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚  3. Update Product Stock                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚     â”‚ For each item sold:                â”‚                      â”‚
â”‚     â”‚   Product.stock -= item.quantity   â”‚                      â”‚
â”‚     â”‚                                    â”‚                      â”‚
â”‚     â”‚ T-Shirt: 100 â†’ 98                  â”‚                      â”‚
â”‚     â”‚ Jeans:    50 â†’ 49                  â”‚                      â”‚
â”‚     â”‚ Shoes:    30 â†’ 29                  â”‚                      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚  4. Return Success Response                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ Response: Sale created + Invoice details
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Invoice Modal                                â”‚
â”‚                                                                  â”‚
â”‚  Display:                                                        â”‚
â”‚  - Invoice Number: INV-2401-00001                               â”‚
â”‚  - Items with quantities                                        â”‚
â”‚  - Totals                                                       â”‚
â”‚  - Payment options (QR code, card, cash)                        â”‚
â”‚                                                                  â”‚
â”‚  User completes payment â†’ Cart clears                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Purchase Order Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Admin Dashboard                               â”‚
â”‚                                                                  â”‚
â”‚  1. Admin sees Low Stock Alert                                  â”‚
â”‚     "T-Shirt Blue Medium: 5 units (Min: 20)"                    â”‚
â”‚                                                                  â”‚
â”‚  2. Clicks "Place Order"                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Create Purchase Order Form                         â”‚
â”‚                                                                  â”‚
â”‚  Select Supplier: Fashion Textiles Ltd                          â”‚
â”‚  Add Items:                                                      â”‚
â”‚    - T-Shirt Blue Medium Ã— 100 @ â‚¹300 = â‚¹30,000                â”‚
â”‚    - Jeans Black 32 Ã— 50 @ â‚¹450 = â‚¹22,500                      â”‚
â”‚  Total: â‚¹52,500                                                 â”‚
â”‚  Expected Delivery: 2024-02-15                                  â”‚
â”‚                                                                  â”‚
â”‚  Click "Create Order"                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ POST /api/purchase-orders
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Purchase Order Controller                           â”‚
â”‚                                                                  â”‚
â”‚  1. Create PO Document                                          â”‚
â”‚     - Auto-generate PO Number: PO-2401-00001                    â”‚
â”‚     - Link to supplier                                          â”‚
â”‚     - Status: pending                                           â”‚
â”‚     - Payment Status: unpaid                                    â”‚
â”‚                                                                  â”‚
â”‚  2. Save to Database                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Order Tracking                                â”‚
â”‚                                                                  â”‚
â”‚  Status: Pending â†’ Received                                     â”‚
â”‚                                                                  â”‚
â”‚  When goods arrive:                                             â”‚
â”‚  Admin clicks "Mark as Received"                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ PATCH /api/purchase-orders/:id/receive
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Receive Purchase Order Handler                        â”‚
â”‚                                                                  â”‚
â”‚  1. Update PO Status                                            â”‚
â”‚     status: 'received'                                          â”‚
â”‚     receivedDate: today                                         â”‚
â”‚                                                                  â”‚
â”‚  2. Update Product Stock (Automatic)                            â”‚
â”‚     For each item in PO:                                        â”‚
â”‚       Product.stock += item.quantity                            â”‚
â”‚                                                                  â”‚
â”‚     T-Shirt: 5 â†’ 105                                            â”‚
â”‚     Jeans:  10 â†’ 60                                             â”‚
â”‚                                                                  â”‚
â”‚  3. Low Stock Alert Clears Automatically                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User      â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ _id          â”‚â”€â”€â”€â”
â”‚ name         â”‚   â”‚
â”‚ email        â”‚   â”‚
â”‚ password     â”‚   â”‚
â”‚ role         â”‚   â”‚
â”‚ permissions  â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                   â”‚
                   â”‚ Referenced by
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚          â”‚
        â†“          â†“          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Sale   â”‚  â”‚  Draft  â”‚  â”‚  (etc) â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ _id      â”‚  â”‚ _id     â”‚
â”‚ items[]  â”‚  â”‚ items[] â”‚
â”‚ salesPer â”‚  â”‚ created â”‚
â”‚ sonId    â”‚  â”‚ By      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ items[].productId
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Product    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ _id          â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ name         â”‚               â”‚
â”‚ barcode      â”‚               â”‚
â”‚ price        â”‚               â”‚ Referenced in PO items
â”‚ stock        â”‚               â”‚
â”‚ category     â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚PurchaseOrder â”‚     â”‚   Supplier    â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚ _id          â”‚     â”‚ _id           â”‚
        â”‚ orderNumber  â”‚     â”‚ name          â”‚
        â”‚ supplierId   â”œâ”€â”€â”€â”€â”€â–º email         â”‚
        â”‚ items[]      â”‚     â”‚ phone         â”‚
        â”‚ status       â”‚     â”‚ address       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Request/Response Cycle

```
Frontend                  Backend                    Database
   â”‚                         â”‚                          â”‚
   â”‚  1. API Request         â”‚                          â”‚
   â”‚  GET /api/products      â”‚                          â”‚
   â”‚  + JWT Token            â”‚                          â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                          â”‚
   â”‚                         â”‚                          â”‚
   â”‚                         â”‚  2. Verify JWT           â”‚
   â”‚                         â”‚     Check permissions    â”‚
   â”‚                         â”‚                          â”‚
   â”‚                         â”‚  3. Query Database       â”‚
   â”‚                         â”‚     Product.find()       â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                         â”‚                          â”‚
   â”‚                         â”‚  4. Return Data          â”‚
   â”‚                         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                          â”‚
   â”‚                         â”‚  5. Transform Response   â”‚
   â”‚                         â”‚     Add success: true    â”‚
   â”‚                         â”‚     Format data          â”‚
   â”‚                         â”‚                          â”‚
   â”‚  6. JSON Response       â”‚                          â”‚
   â”‚  {success: true,        â”‚                          â”‚
   â”‚   data: [...]}          â”‚                          â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
   â”‚                         â”‚                          â”‚
   â”‚  7. Update UI           â”‚                          â”‚
   â”‚     Display products    â”‚                          â”‚
   â”‚                         â”‚                          â”‚
```

---

## ğŸ›¡ï¸ Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User Request                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Rate Limiter â”‚  â† 100 req/10min per IP
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Helmet    â”‚  â† Security HTTP headers
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     CORS     â”‚  â† Allow only frontend URL
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ JWT Verify   â”‚  â† Validate token
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Role Check   â”‚  â† Admin/Sales permission
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Controller  â”‚  â† Process request
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Frontend Component Hierarchy

```
App
â”œâ”€â”€ AuthProvider
â”‚   â””â”€â”€ User & Authentication State
â”‚
â”œâ”€â”€ UserManagementProvider
â”‚   â””â”€â”€ Sales Users Management
â”‚
â”œâ”€â”€ StoreProvider
â”‚   â”œâ”€â”€ Products Management
â”‚   â””â”€â”€ Sales Management
â”‚
â”œâ”€â”€ DraftProvider
â”‚   â””â”€â”€ Draft Orders
â”‚
â””â”€â”€ PurchaseProvider
    â”œâ”€â”€ Purchase Orders
    â””â”€â”€ Suppliers

Main Components:
â”œâ”€â”€ LandingPage
â”œâ”€â”€ Login
â”œâ”€â”€ Dashboard (Role-based)
â”‚   â”œâ”€â”€ Admin View
â”‚   â”‚   â”œâ”€â”€ Inventory
â”‚   â”‚   â”œâ”€â”€ PointOfSale
â”‚   â”‚   â”œâ”€â”€ PurchaseOrders
â”‚   â”‚   â”œâ”€â”€ OrderHistory
â”‚   â”‚   â”œâ”€â”€ UserManagement
â”‚   â”‚   â”œâ”€â”€ Reports
â”‚   â”‚   â””â”€â”€ Settings
â”‚   â”‚
â”‚   â””â”€â”€ Sales Person View
â”‚       â””â”€â”€ PointOfSale (Only)
```

---

## ğŸ¯ Complete Feature Map

```
FashionHub System
â”‚
â”œâ”€â”€ ğŸ” Authentication
â”‚   â”œâ”€â”€ Login (JWT)
â”‚   â”œâ”€â”€ Logout
â”‚   â””â”€â”€ Role-based Access
â”‚
â”œâ”€â”€ ğŸ‘¥ User Management (Admin Only)
â”‚   â”œâ”€â”€ Create Sales Users
â”‚   â”œâ”€â”€ Set Permissions
â”‚   â”œâ”€â”€ Manage Access Levels
â”‚   â””â”€â”€ Track Activity
â”‚
â”œâ”€â”€ ğŸ“¦ Inventory Management
â”‚   â”œâ”€â”€ Add/Edit/Delete Products
â”‚   â”œâ”€â”€ Multi-variant Tracking
â”‚   â”œâ”€â”€ Barcode Scanning
â”‚   â”œâ”€â”€ Stock Alerts
â”‚   â”œâ”€â”€ Discount Configuration
â”‚   â””â”€â”€ Low Stock Detection
â”‚
â”œâ”€â”€ ğŸ’° Point of Sale
â”‚   â”œâ”€â”€ Add to Cart
â”‚   â”œâ”€â”€ Save to Draft
â”‚   â”œâ”€â”€ Generate Invoice
â”‚   â”œâ”€â”€ Multiple Payment Methods
â”‚   â””â”€â”€ Customer Tracking
â”‚
â”œâ”€â”€ ğŸ“ Draft Orders
â”‚   â”œâ”€â”€ Save Incomplete Orders
â”‚   â”œâ”€â”€ Load & Modify
â”‚   â””â”€â”€ Convert to Invoice
â”‚
â”œâ”€â”€ ğŸ›’ Purchase Orders
â”‚   â”œâ”€â”€ Create PO
â”‚   â”œâ”€â”€ Supplier Management
â”‚   â”œâ”€â”€ Receive Goods
â”‚   â”œâ”€â”€ Auto Stock Update
â”‚   â””â”€â”€ Payment Tracking
â”‚
â”œâ”€â”€ ğŸ“Š Reports & Analytics
â”‚   â”œâ”€â”€ Sales Statistics
â”‚   â”œâ”€â”€ Inventory Reports
â”‚   â”œâ”€â”€ Low Stock Alerts
â”‚   â””â”€â”€ Revenue Tracking
â”‚
â””â”€â”€ âš™ï¸ Settings
    â”œâ”€â”€ Profile Management
    â”œâ”€â”€ System Configuration
    â””â”€â”€ Data Management
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Production Setup                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (Vercel/Netlify)                Backend (Render/Railway)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Application     â”‚              â”‚  Express.js Server      â”‚
â”‚  Built & Optimized     â”‚              â”‚  Node.js Runtime        â”‚
â”‚  CDN Distribution      â”‚   HTTPS      â”‚  Environment Variables  â”‚
â”‚  https://app.fashion   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  https://api.fashion    â”‚
â”‚        hub.com         â”‚   API Calls  â”‚        hub.com          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â”‚ Secure Connection
                                                   â”‚ (MongoDB URI)
                                                   â†“
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚  MongoDB Atlas          â”‚
                                        â”‚  Cloud Database         â”‚
                                        â”‚  Automatic Backups      â”‚
                                        â”‚  Distributed Replicas   â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture supports a scalable, secure, and production-ready garment store management system! ğŸ‰
